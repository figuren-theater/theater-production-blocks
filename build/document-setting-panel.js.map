{"version":3,"file":"document-setting-panel.js","mappings":"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","sources":["webpack://theater-production-blocks/./src/utils/constants.js","webpack://theater-production-blocks/./src/utils/date-select.js","webpack://theater-production-blocks/external window [\"wp\",\"blockEditor\"]","webpack://theater-production-blocks/external window [\"wp\",\"components\"]","webpack://theater-production-blocks/external window [\"wp\",\"coreData\"]","webpack://theater-production-blocks/external window [\"wp\",\"data\"]","webpack://theater-production-blocks/external window [\"wp\",\"date\"]","webpack://theater-production-blocks/external window [\"wp\",\"editPost\"]","webpack://theater-production-blocks/external window [\"wp\",\"element\"]","webpack://theater-production-blocks/external window [\"wp\",\"i18n\"]","webpack://theater-production-blocks/external window [\"wp\",\"plugins\"]","webpack://theater-production-blocks/webpack/bootstrap","webpack://theater-production-blocks/webpack/runtime/compat get default export","webpack://theater-production-blocks/webpack/runtime/define property getters","webpack://theater-production-blocks/webpack/runtime/hasOwnProperty shorthand","webpack://theater-production-blocks/webpack/runtime/make namespace object","webpack://theater-production-blocks/./src/block-editor/plugins/document-setting-panel/index.js"],"sourcesContent":["\n\n//\n// export const DURATION_META    = '_theatre_base_prod_and_event__duration';\nexport const DURATION_META    = window.Theater.ProductionBlocks.duration.PostMetaKey;\n\n//\nexport const PREMIERE_META    = '_theatre_base_prod_and_event__premiere';\n\n//\nexport const TARGETGROUP_META = '_theatre_base_prod_and_event__targetgroup';\n\n\nexport const PT_PRODUCTION = 'ft_production';\n\n// Allowed formats for the prefix and suffix fields.\nexport const ALLOWED_PRE_SUF_FIX_FORMATS = [\n\t'core/bold',\n\t'core/image',\n\t'core/italic',\n\t// 'core/link',\n\t// 'core/strikethrough',\n\t'core/text-color',\n];\n","\r\n/**\r\n * STOLEN from\r\n * https://github.com/Automattic/block-experiments/blob/master/blocks/event/src/date-select.js\r\n */\r\n\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { Button, DatePicker, Dropdown } from '@wordpress/components';\r\nimport { dateI18n } from '@wordpress/date';\r\n\r\nconst DateSelect = ( {\r\n\tplaceholder,\r\n\tvalue,\r\n\tdateFormat,\r\n\tonChange,\r\n\tclassName,\r\n} ) => (\r\n\t<Dropdown\r\n\t\tclassName={ className }\r\n\t\tposition=\"bottom left\"\r\n\t\trenderToggle={ ( { onToggle, isOpen } ) => (\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"tertiary\"\r\n\t\t\t\tonClick={ onToggle }\r\n\t\t\t\taria-expanded={ isOpen }\r\n\t\t\t\taria-live=\"polite\"\r\n\t\t\t>\r\n\t\t\t\t{ value ? dateI18n( dateFormat, value ) : placeholder }\r\n\t\t\t</Button>\r\n\t\t) }\r\n\t\trenderContent={ () => (\r\n\t\t\t<DatePicker currentDate={ value } onChange={ onChange } />\r\n\t\t) }\r\n\t/>\r\n);\r\n\r\nDateSelect.Content = ( { value, dateFormat, className } ) =>\r\n\tvalue && (\r\n\t\t<time className={ className } dateTime={ dateI18n( 'c', value ) }>\r\n\t\t\t{ dateI18n( dateFormat, value ) }\r\n\t\t</time>\r\n\t);\r\n\r\nexport default DateSelect;\r\n","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"date\"];","module.exports = window[\"wp\"][\"editPost\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"plugins\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\n/**\n * Retrieves the translation of text.\n *\n * @see https://developer.wordpress.org/block-editor/packages/packages-i18n/\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * WordPress dependencies.\n */\nimport {\n\t__experimentalNumberControl as NumberControl,\n\t // __experimentalInputControl as InputControl,\n\tTextControl\n} from '@wordpress/components';\n\nimport { useEntityProp } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { PluginDocumentSettingPanel } from '@wordpress/edit-post';\nimport { registerPlugin } from '@wordpress/plugins';\n\nimport {\n\tRichText\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\n\nimport { __experimentalGetSettings } from '@wordpress/date';\n\nimport DateSelect from '../../../utils/date-select';\n\nimport {\n\tDURATION_META,\n\tPREMIERE_META,\n\tTARGETGROUP_META,\n\tPT_PRODUCTION\n} from '../../../utils/constants.js'\n// import { getPostMeta, setPostMeta } from '../../../utils/helper.js'\n\n\nconst ProductionDocumentSettingPanel = () => {\n\n\n\t// Get post type.\n\tconst post = useSelect(\n\t\t( select ) => select( 'core/editor' ).getCurrentPost(),\n\t\t[]\n\t);\n\n\tif ( PT_PRODUCTION !== post.type )\n\t\treturn ('');\n\n\tconst settings = __experimentalGetSettings();\n\n\t// Get the value of meta and a function for updating meta from useEntityProp.\n\tconst [ meta, setMeta ] = useEntityProp( 'postType', post.type, 'meta', post.id );\n\n\treturn (\n\t\t<PluginDocumentSettingPanel\n\t\t\tname=\"production-document-setting-panel\"\n\t\t\ticon=\"art\"\n\t\t\ttitle={ __( 'Production Meta', 'theater-production-blocks' ) }\n\t\t\tclassName=\"t7b4-production-document-setting-panel\"\n\t\t>\n\t\t\t<div className=\"plugin-sidebar-content\">\n\t\t\t\t<RichText\n\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\tvalue={ __( 'Premiere Date', 'theater-production-blocks' ) }\n\t\t\t\t/>\n\t\t\t\t<DateSelect\n\t\t\t\t\tclassName=\"event__date-select\"\n\t\t\t\t\tdateFormat={\n\t\t\t\t\t\tsettings.formats.date\n\t\t\t\t\t}\n\t\t\t\t\tvalue={ meta[ PREMIERE_META ] }\n\t\t\t\t\tonChange={ ( newValue ) => {\n\t\t\t\t\t\tsetMeta( { ...meta, [PREMIERE_META]: newValue } );\n\t\t\t\t\t} }\n\t\t\t\t\tplaceholder={ __( 'Choose a Date', 'theater-production-blocks' ) }\n\t\t\t\t/>\n\n\t\t\t\t<TextControl\n\t\t\t\t\tlabel={ __( 'Targetgroup', 'theater-production-blocks' ) }\n\t\t\t\t\tvalue={ meta[ TARGETGROUP_META ] }\n\t\t\t\t\tonChange={ ( newValue ) => {\n\t\t\t\t\t\tsetMeta( { ...meta, [TARGETGROUP_META]: newValue } );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\n\t\t\t\t<NumberControl\n\t\t\t\t\tlabel={ __( 'Duration', 'theater-production-blocks' ) }\n\t\t\t\t\tisShiftStepEnabled\n\t\t\t\t\tshiftStep=\"5\"\n\t\t\t\t\tstep=\"5\"\n\t\t\t\t\tmin={ 0 }\n\t\t\t\t\tplaceholder=\"80\"\n\t\t\t\t\tvalue={ meta[ DURATION_META ] }\n\t\t\t\t\tonChange={ ( newValue ) => {\n\t\t\t\t\t\tsetMeta( { ...meta, [DURATION_META]: newValue } );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\n\t\t\t\t<RichText\n\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\tclassName=\"howto\"\n\t\t\t\t\tvalue={ __( 'Add the duration in Minutes.', 'theater-production-blocks' ) }\n\t\t\t\t/>\n\t\t\t</div>\n\n\n\t\t</PluginDocumentSettingPanel>\n\t);\n};\nregisterPlugin( 'production-document-setting-panel', {\n\trender: ProductionDocumentSettingPanel,\n} );\n"],"names":["DURATION_META","window","Theater","ProductionBlocks","duration","PostMetaKey","PREMIERE_META","TARGETGROUP_META","PT_PRODUCTION","ALLOWED_PRE_SUF_FIX_FORMATS","Button","DatePicker","Dropdown","dateI18n","DateSelect","_ref","placeholder","value","dateFormat","onChange","className","createElement","position","renderToggle","_ref2","onToggle","isOpen","variant","onClick","renderContent","currentDate","Content","_ref3","dateTime","__","__experimentalNumberControl","NumberControl","TextControl","useEntityProp","useSelect","PluginDocumentSettingPanel","registerPlugin","RichText","__experimentalGetSettings","ProductionDocumentSettingPanel","post","select","getCurrentPost","type","settings","meta","setMeta","id","name","icon","title","tagName","formats","date","newValue","label","isShiftStepEnabled","shiftStep","step","min","render"],"sourceRoot":""}