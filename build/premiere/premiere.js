(()=>{var e={967:(e,t)=>{var r;!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=l(e,o(r)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)a.call(e,r)&&e[r]&&(t=l(t,r));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.i18n,t=window.wp.blocks,a=window.wp.plugins,n=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"wpt/production-premiere","version":"0.1.0","title":"Premiere","category":"text","description":"Show Premiere Date of production.","icon":"calendar-alt","usesContext":["postType","postId"],"attributes":{"textAlign":{"type":"string","default":"left"},"tagName":{"type":"string","default":"div"},"prefix":{"type":"string","default":""},"suffix":{"type":"string","default":""}},"example":{"viewportWidth":300},"supports":{"align":true,"color":{"gradients":true,"background":true,"text":true,"link":true},"spacing":{"margin":true,"padding":true},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontFamily":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true,"__experimentalLetterSpacing":true,"__experimentalDefaultControls":{"fontSize":true,"fontAppearance":true,"textTransform":true}},"multiple":true,"html":false,"reusable":false},"textdomain":"theater-production-blocks","editorScript":"file:premiere.js","editorStyle":"file:./premiere.css","style":"file:./style-premiere.css"}'),o=window.React;var l=r(967),i=r.n(l);const c=window.wp.components,s=window.wp.coreData,u=window.wp.blockEditor,p=window.wp.date,m=({placeholder:e,value:t,dateFormat:r,onChange:a,className:n})=>(0,o.createElement)(c.Dropdown,{className:n,position:"bottom left",renderToggle:({onToggle:a,isOpen:n})=>(0,o.createElement)(c.Button,{variant:"tertiary",onClick:a,"aria-expanded":n,"aria-live":"polite"},t?(0,p.dateI18n)(r,t):e),renderContent:()=>(0,o.createElement)(c.DatePicker,{currentDate:t,onChange:a})});m.Content=({value:e,dateFormat:t,className:r})=>e&&(0,o.createElement)("time",{className:r,dateTime:(0,p.dateI18n)("c",e)},(0,p.dateI18n)(t,e));const d=m,f=["core/bold","core/image","core/italic","core/text-color"],g=(0,e.__)("Prefix","theater-production-blocks"),x=(0,e.__)("Prefix","theater-production-blocks")+" ",h=({prefix:e,setAttributes:t,isSelected:r,label:a=g,placeholder:n=x,tagName:l="span"})=>(0,o.createElement)(o.Fragment,null,r?(0,o.createElement)(u.RichText,{allowedFormats:f,className:"wpt-production-blocks__prefix",multiline:!1,"aria-label":a,placeholder:n,value:e,onChange:e=>t({prefix:e}),tagName:l}):(0,o.createElement)(o.Fragment,null,e?(0,o.createElement)(u.RichText.Content,{tagName:l,value:e}):(0,o.createElement)(o.Fragment,null))),_=(0,e.__)("Suffix","theater-production-blocks"),b=(0,e.__)("Suffix","theater-production-blocks")+" ",w=({suffix:e,setAttributes:t,isSelected:r,label:a=_,placeholder:n=b,tagName:l="span"})=>(0,o.createElement)(o.Fragment,null,r?(0,o.createElement)(u.RichText,{allowedFormats:f,className:"wpt-production-blocks__suffix",multiline:!1,"aria-label":a,placeholder:n,value:e,onChange:e=>t({suffix:e}),tagName:l}):(0,o.createElement)(o.Fragment,null,e?(0,o.createElement)(u.RichText.Content,{tagName:l,value:e}):(0,o.createElement)(o.Fragment,null))),v=window.Theater.ProductionBlocks.premiere.PostMetaKey,y=window.wp.data,k=window.Theater.ProductionBlocks.premiere.PostMetaKey,{name:E,...S}=n;(0,t.registerBlockType)(E,{...S,title:(0,e._x)("Premiere","block title","theater-production-blocks"),description:(0,e._x)("Show Premiere Date of production.","block description","theater-production-blocks"),edit:function({attributes:{textAlign:t,prefix:r,suffix:a},setAttributes:n,isSelected:l,context:{postType:m,postId:f}}){const g=(0,p.getSettings)(),x=(0,u.useBlockProps)({className:i()({[`has-text-align-${t}`]:t})}),[_,b]=(0,s.useEntityProp)("postType",m,"meta",f),y=_[v];return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(u.BlockControls,{group:"block"},(0,o.createElement)(u.AlignmentControl,{value:t,onChange:e=>{n({textAlign:e})}})),(0,o.createElement)("div",{...x},(0,o.createElement)(c.Flex,{justify:"space-around"},(0,o.createElement)(c.FlexItem,null,(0,o.createElement)(h,{prefix:r,isSelected:l,setAttributes:n})),(0,o.createElement)(c.FlexItem,{className:"event__time"},y&&!l?(0,o.createElement)(d.Content,{className:"event__date-select",dateFormat:g.formats.date,value:y}):(0,o.createElement)(d,{className:"event__date-select",dateFormat:g.formats.date,value:y,onChange:e=>{b({..._,[v]:e})},placeholder:(0,e.__)("Choose a Date","theater-production-blocks")})),(0,o.createElement)(c.FlexItem,null,(0,o.createElement)(w,{suffix:a,isSelected:l,setAttributes:n})))))},save:function(){return null},transforms:{from:[{type:"block",blocks:["core/post-date"],transform:({content:e})=>(0,t.createBlock)(E,{content:e})}]}}),(0,a.registerPlugin)("premiere-slot-fill",{render:function(){const t=(0,y.useSelect)((e=>e("core/editor").getCurrentPost()),[]),[r,a]=(0,s.useEntityProp)("postType",t.type,"meta",t.id),n=r[k];return(0,o.createElement)(c.Fill,{name:"ProductionPluginPostStatusInfo"},(0,o.createElement)(u.RichText,{tagName:"p",className:"css-1imalal",value:(0,e.__)("Premiere Date","theater-production-blocks")}),(0,o.createElement)(d,{label:(0,e.__)("Premiere Date","theater-production-blocks"),className:"event__date-select",dateFormat:(0,p.getSettings)().formats.date,value:n,onChange:e=>{a({...r,[k]:e})},placeholder:(0,e.__)("Choose a Date","theater-production-blocks")}))}})})()})();