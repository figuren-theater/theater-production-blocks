(()=>{var t={730:t=>{var e,r,o=9007199254740991,n="[object Function]",c="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/,i=Object.prototype,u=i.hasOwnProperty,l=i.toString,s=i.propertyIsEnumerable,p=(e=Object.keys,r=Object,function(t){return e(r(t))}),d=Math.max,f=!s.call({valueOf:1},"valueOf");function h(t,e,r){var o=t[e];u.call(t,e)&&v(o,r)&&(void 0!==r||e in t)||(t[e]=r)}function y(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<e}function w(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||i)}function v(t,e){return t===e||t!=t&&e!=e}var g=Array.isArray;function m(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!function(t){var e=b(t)?l.call(t):"";return e==n||e==c}(t)}function b(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var _,x=(_=function(t,e){if(f||w(e)||m(e))!function(t,e,r,o){r||(r={});for(var n=-1,c=e.length;++n<c;){var a=e[n];h(r,a,t[a])}}(e,function(t){return m(t)?function(t,e){var r=g(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&m(t)}(t)&&u.call(t,"callee")&&(!s.call(t,"callee")||"[object Arguments]"==l.call(t))}(t)?function(t,e){for(var r=-1,o=Array(t);++r<t;)o[r]=e(r);return o}(t.length,String):[],o=r.length,n=!!o;for(var c in t)!e&&!u.call(t,c)||n&&("length"==c||y(c,o))||r.push(c);return r}(t):function(t){if(!w(t))return p(t);var e=[];for(var r in Object(t))u.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}(e),t);else for(var r in e)u.call(e,r)&&h(t,r,e[r])},function(t,e){return e=d(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,n=d(r.length-e,0),c=Array(n);++o<n;)c[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=c,function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}(t,this,a)}}((function(t,e){var r=-1,o=e.length,n=o>1?e[o-1]:void 0,c=o>2?e[2]:void 0;for(n=_.length>3&&"function"==typeof n?(o--,n):void 0,c&&function(t,e,r){if(!b(r))return!1;var o=typeof e;return!!("number"==o?m(r)&&y(e,r.length):"string"==o&&e in r)&&v(r[e],t)}(e[0],e[1],c)&&(n=o<3?void 0:n,o=1),t=Object(t);++r<o;){var a=e[r];a&&_(t,a)}return t})));t.exports=x}},e={};function r(o){var n=e[o];if(void 0!==n)return n.exports;var c=e[o]={exports:{}};return t[o](c,c.exports,r),c.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t=window.React;var e=r(730),o=r.n(e);const n=window.wp.blocks,c=window.wp.primitives,a=(0,t.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(c.Path,{d:"M19.75 9c0-1.257-.565-2.197-1.39-2.858-.797-.64-1.827-1.017-2.815-1.247-1.802-.42-3.703-.403-4.383-.396L11 4.5V6l.177-.001c.696-.006 2.416-.02 4.028.356.887.207 1.67.518 2.216.957.52.416.829.945.829 1.688 0 .592-.167.966-.407 1.23-.255.281-.656.508-1.236.674-1.19.34-2.82.346-4.607.346h-.077c-1.692 0-3.527 0-4.942.404-.732.209-1.424.545-1.935 1.108-.526.579-.796 1.33-.796 2.238 0 1.257.565 2.197 1.39 2.858.797.64 1.827 1.017 2.815 1.247 1.802.42 3.703.403 4.383.396L13 19.5h.714V22L18 18.5 13.714 15v3H13l-.177.001c-.696.006-2.416.02-4.028-.356-.887-.207-1.67-.518-2.216-.957-.52-.416-.829-.945-.829-1.688 0-.592.167-.966.407-1.23.255-.281.656-.508 1.237-.674 1.189-.34 2.819-.346 4.606-.346h.077c1.692 0 3.527 0 4.941-.404.732-.209 1.425-.545 1.936-1.108.526-.579.796-1.33.796-2.238z"})),i=window.wp.data,u=window.wp.i18n,l=window.wp.compose,s=window.wp.hooks,p=window.Theater.ProductionPosttype.Slug,d=window.Theater.ProductionPosttype.ShadowTaxonomy,f={name:"wpt/production-shadow-related-query",title:(0,u.__)("Production Related","theater-production-blocks"),description:(0,u.__)("Shows content related to the production, that is connected to this post. ","theater-production-blocks"),keywords:[(0,u.__)("relates","theater-production-blocks"),(0,u.__)("staging","theater-production-blocks"),(0,u.__)("theater","theater-production-blocks"),(0,u.__)("connected","theater-production-blocks")],icon:a,attributes:{query:{perPage:3,pages:1,offset:0,postType:"post",exclude:[],sticky:"exclude",inherit:!1,taxQuery:{[d]:[]}},displayLayout:{type:"flex",columns:3},className:"wpt-production-shadow-related-query",customClassName:!1},innerBlocks:[["core/post-template",{},[["core/cover",{useFeaturedImage:!0,dimRatio:20,overlayColor:"foreground",minHeight:200,minHeightUnit:"px",style:{spacing:{padding:{top:"0px"}}}},[["core/post-title",{textAlign:"center",level:3,isLink:!0,style:{typography:{lineHeight:"1"}},fontSize:"large"}]]]]]],scope:["inserter","transform"],isActive:t=>"wpt-production-shadow-related-query"===t.className,usesContext:["core/post-template/postId"]};(0,n.registerBlockVariation)("core/query",f);const h=(0,l.createHigherOrderComponent)((e=>r=>{if("wpt-production-shadow-related-query"!==r.attributes.className)return(0,t.createElement)(e,{...r});if("core/query"!==r.name)return(0,t.createElement)(e,{...r});if(0!==r.attributes.query.taxQuery[d][0])return(0,t.createElement)(e,{...r});const n=(0,i.select)("core/editor").getCurrentPost();if(p!==n.type&&!n.TAX_PRODUCTION_SHADOW)return(0,t.createElement)(e,{...r});let c=[];return c=p===n.type?[n.meta.shadow_ft_production_shadow_term_id]:(0,i.useSelect)((t=>{const{getEditedPostAttribute:e}=t("core/editor");return e(d)}),[]),0===c.length||o()(r.attributes.query,{exclude:[n.id],taxQuery:{[d]:c}}),(0,t.createElement)(e,{...r})}),"productionShadowRelatedQueryEngine");(0,s.addFilter)("editor.BlockListBlock","wpt/production-shadow-related-query",h)})()})();